<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width,initial-scale=1.0, user-scalable=0" name="viewport"/>
    <meta name="x5-orientation" content="portrait">
    <meta content="yes" name="apple-mobile-web-app-capable"/>
    <meta name="format-detection" content="telphone=no, email=no"/>
    <meta content="black" name="apple-mobile-web-app-status-bar-style"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <link rel="stylesheet" type="text/css" href="css/font-awesome.min.css" media="screen"/>
    <link rel="stylesheet" type="text/css" href="css/reset.css" media="screen"/>
    <link rel="stylesheet" type="text/css" href="css/header.css" media="screen"/>
    <link rel="stylesheet" href="css/free-shipping.css" type="text/css" media="screen">
    <title>9.9包邮</title>
</head>
<body onload="freeeLoad()">
<!--公共头部  微信头部不要加 app头部要加样式需要根据实际情况进行修改且样式均为统一-->
<header>
    <div class="wg-header">
        <a href="" class="btn menu-icon-btn icon-angle-left"></a>
        <h2 class="wg-header-txt txt-center">9.9包邮</h2>
        <a href="" class="btn btn-shared"></a>
    </div>
</header>
<!--整体内容滑动-->
<section>
    <div id="scroll-wrapper">
        <div id="scroll-container">
            <div class="fr-shipping-img marginB20">
                <img lazyImg="img/free-shipping-img.jpg" class="img-responsive"/>
            </div>
            <!--fr-shipping-img-->
            <!--包邮产品列表-->
            <div class="free-ship-box">
                <div class="free-ship-items p-left">
                    <span class="free-ship-items-pic"><img lazyImg = 'img/fruits-01.jpg' class="img-responsive" /></span>
                    <!--free-ship-items-pic-->
                    <p class="free-ship-items-name"><a href="">陕西红富士苹果</a></p>
                    <div class="free-ship-items-price">
                        <span class="free-ship-price-left p-left">¥<em>52451.6</em></span>
                        <a href="" class="free-ship-price-right p-right"></a>
                    </div>
                </div>
                <!--free-ship-items-->

                <div class="free-ship-items p-right">
                    <span class="free-ship-items-pic"><img lazyImg = 'img/fruits-01.jpg' class="img-responsive" /></span>
                    <!--free-ship-items-pic-->
                    <p class="free-ship-items-name">陕西红富士苹果大小混装10斤苹果包邮新</p>
                    <div class="free-ship-items-price">
                        <span class="free-ship-price-left p-left">¥<em>52451.6</em></span>
                        <a href="" class="free-ship-price-right p-right"></a>
                    </div>
                </div>
                <!--free-ship-items-->

                <div class="free-ship-items p-left">
                    <span class="free-ship-items-pic"><img lazyImg = 'img/fruits-01.jpg' class="img-responsive" /></span>
                    <!--free-ship-items-pic-->
                    <p class="free-ship-items-name">陕西红富士苹果大小混装10斤苹果包邮新</p>
                    <div class="free-ship-items-price">
                        <span class="free-ship-price-left p-left">¥<em>52451.6</em></span>
                        <a href="" class="free-ship-price-right p-right"></a>
                    </div>
                </div>
                <!--free-ship-items-->

                <div class="free-ship-items p-right">
                    <span class="free-ship-items-pic"><img lazyImg = 'img/fruits-01.jpg' class="img-responsive" /></span>
                    <!--free-ship-items-pic-->
                    <p class="free-ship-items-name">陕西红富士苹果大小混装10斤苹果包邮新</p>
                    <div class="free-ship-items-price">
                        <span class="free-ship-price-left p-left">¥<em>52451.6</em></span>
                        <a href="" class="free-ship-price-right p-right"></a>
                    </div>
                </div>
                <!--free-ship-items-->
            </div>
            <!--free-ship-box-->
            <div id="loading-more">
                别拽了，人家也是有底线的
            </div>
        </div>
    </div>
</section>
<a class="GOTOP" href="javascript:void(0);"></a>
<script src="js/size.js" type="text/javascript"></script>
<script src="js/zepto.min.js" type="text/javascript"></script>
<script src="js/TouchScroll.js" type="text/javascript"></script>
<script type="text/javascript">
    var Myscroll = '';
    function freeeLoad() {
        Myscroll = new IScroll('#scroll-wrapper', {
            click:true,
            touchend:true,
            preventDefaultException: { tagName: /^(INPUT|TEXTAREA|BUTTON|SELECT|A|SPAN)$/ },
            bindToWrapper: true,
            scrollbars: true,
            fadeScrollbars: true,
            shrinkScrollbars: 'scale'
        });

        //执行图片懒加载
        ImgLazyLoad();

        //绑定上下滑动事件
        Myscroll.on('scrollEnd', function () {
            //上拉加载
            //TODO
            //加载状态
            $("#loading-more").show();
            Myscroll.refresh();
            //滑屏结束执行图片懒加载
            ImgLazyLoad();
        });

        $(".GOTOP").on('touchend',function(){
            Myscroll.scrollTo(0,0,100,IScroll.utils.ease.quadratic);
        });

        //图片懒加载处理
        function ImgLazyLoad() {
            $("img").each(function (i, t) {
                //含有懒加载属性就执行懒加载
                if ($(t).attr('lazyImg')) {
                    //标签含有需要懒加载的图片 执行图片懒加载
                    if ($(t).offset().top <= (Myscroll.wrapperHeight - Myscroll.y)) {
                        $(t).attr('src', $(t).attr('lazyImg'));
                    }
                }
            });
        }
    }
</script>
</body>
</html>