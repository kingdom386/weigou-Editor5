<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width,initial-scale=1.0, user-scalable=0" name="viewport"/>
    <meta name="x5-orientation" content="portrait">
    <meta content="yes" name="apple-mobile-web-app-capable"/>
    <meta name="format-detection" content="telphone=no"/>
    <meta content="black" name="apple-mobile-web-app-status-bar-style"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <script src="js/size.js" type="text/javascript"></script>
    <link rel="stylesheet" href="css/reset.css" type="text/css" media="screen">
    <title>下拉刷新--js</title>
    <style type="text/css">
    body{background:#f4f4f4}
    /*下拉刷新*/
    #pull-down{width: auto;height:auto;background: #fff;display: -webkit-box;display: -moz-box;overflow: hidden;}
    .pull-down-box{-webkit-box-flex: 1;-moz-box-flex: 1;-webkit-box-orient: horizontal;}
    .main-box{width: auto;height: 55rem;background: #f70;}

    </style>
</head>
<body onload="pullDown()">
<section>
    <div id="wrapper">
        <div id="container">
            <div id="pull-down">
                <div class="pull-down-box"></div>
            </div>
            <!--pull-down-->
            <div class="main-box"></div>
        </div>
    </div>
</section>

<script type="text/javascript" src="js/iscroll-probe.js"></script>
<script type="text/javascript">
    var pullScroll = '',isPull=true,containerTop=curtTop=0;
    function pullDown(){
        pullScroll = new IScroll('#wrapper',{
            probeType:2,
            click:true,
            touchend:true,
            preventDefaultException: { tagName: /^(INPUT|A|SPAN)$/ }
        });

        pullScroll.on('scroll',function(){
            pullScroll.options.useTransform=false;
            console.log(containerTop);
            //根据手势滑动方向\滑动距离判断
            if(pullScroll.directionY==-1){
                pullScroll.scroller.style.top=0;
                document.querySelector('#pull-down').style.height = containerTop+'px';
            }
        })

        pullScroll.on('scrollEnd',function(){

        });

    }

</script>

</body>
</html>